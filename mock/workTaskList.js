const list = [
  {
    "id":"103",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"车流检测器检查",
    "work_detailed":"车流检测器检查是否失效",
    "work_type":"巡检",
    "work_admin_user":null,
    "work_line":"电力巡检",
    "work_line_id":"4028e4f66240feae0162411df3270000",
    "work_plan_type":"计划",
    "work_status":"待执行",
    "work_user":"运维二线人员",
    "startDate":"2018-11-26 09:00:00",
    "endDate":"2018-11-26 20:00:00",
    "work_admin_user_id":null,
    "work_user_id":"4028b23962ad479e0162ad4c95e30003"
  },{
    "id":"200",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"照明电路检查",
    "work_detailed":"照明电路检查是否破损",
    "work_type":"维护",
    "work_admin_user":null,
    "work_line":"电力巡检",
    "work_line_id":"4028e4f66240feae0162411df3270000",
    "work_plan_type":"临时",
    "work_status":"待执行",
    "work_user":"张强",
    "startDate":"2018-11-25 09:00:00",
    "endDate":"2018-11-25 20:00:00",
    "work_admin_user_id":null,
    "work_user_id":"297e81cf62ad4fa60162ad542bce0001"
  }, {
    "id": "300",
    "sys_Date": null,
    "lastModifiedDate": null,
    "markAsDeleted": false,
    "gallery_name_id": "2",
    "gallery_name": "上中路隧道",
    "work_name": "摄像机检查",
    "work_detailed": "摄像机检查",
    "work_type": "计划",
    "work_admin_user": null,
    "work_line": "监控巡检",
    "work_line_id": "4028e4f66240feae0162411df3270000",
    "work_plan_type": "临时",
    "work_status": "待执行",
    "work_user": "张强",
    "startDate": "2018-11-25 09:00:00",
    "endDate": "2018-11-25 20:00:00",
    "work_admin_user_id": null,
    "work_user_id": "297e81cf62ad4fa60162ad542bce0001"
  }, {
    "id": "400",
    "sys_Date": null,
    "lastModifiedDate": null,
    "markAsDeleted": false,
    "gallery_name_id": "2",
    "gallery_name": "上中路隧道",
    "work_name": "电力系统线路检查",
    "work_detailed": "电力系统线路检查",
    "work_type": "维护",
    "work_admin_user": null,
    "work_line": "电力巡检",
    "work_line_id": "4028e4f66240feae0162411df3270000",
    "work_plan_type": "临时",
    "work_status": "待执行",
    "work_user": "张强",
    "startDate": "2018-11-25 09:00:00",
    "endDate": "2018-11-25 20:00:00",
    "work_admin_user_id": null,
    "work_user_id": "297e81cf62ad4fa60162ad542bce0001"
  }, {
    "id": "500",
    "sys_Date": null,
    "lastModifiedDate": null,
    "markAsDeleted": false,
    "gallery_name_id": "2",
    "gallery_name": "上中路隧道",
    "work_name": "应急灯检查",
    "work_detailed": "应急灯检查",
    "work_type": "维护",
    "work_admin_user": null,
    "work_line": "电力巡检",
    "work_line_id": "4028e4f66240feae0162411df3270000",
    "work_plan_type": "临时",
    "work_status": "待执行",
    "work_user": "张强",
    "startDate": "2018-11-25 09:00:00",
    "endDate": "2018-11-25 20:00:00",
    "work_admin_user_id": null,
    "work_user_id": "297e81cf62ad4fa60162ad542bce0001"
  }, {
    "id": "600",
    "sys_Date": null,
    "lastModifiedDate": null,
    "markAsDeleted": false,
    "gallery_name_id": "2",
    "gallery_name": "西藏南路隧道",
    "work_name": "消防管检查",
    "work_detailed": "消防管检查",
    "work_type": "维护",
    "work_admin_user": null,
    "work_line": "消防巡检",
    "work_line_id": "4028e4f66240feae0162411df3270000",
    "work_plan_type": "临时",
    "work_status": "待执行",
    "work_user": "张强",
    "startDate": "2018-11-25 09:00:00",
    "endDate": "2018-11-25 20:00:00",
    "work_admin_user_id": null,
    "work_user_id": "297e81cf62ad4fa60162ad542bce0001"
  }, {
    "id": "700",
    "sys_Date": null,
    "lastModifiedDate": null,
    "markAsDeleted": false,
    "gallery_name_id": "2",
    "gallery_name": "西藏南路隧道",
    "work_name": "车辆检测器检查",
    "work_detailed": "车辆检测器检查",
    "work_type": "维护",
    "work_admin_user": null,
    "work_line": "检测系统",
    "work_line_id": "4028e4f66240feae0162411df3270000",
    "work_plan_type": "临时",
    "work_status": "待执行",
    "work_user": "张强",
    "startDate": "2018-11-25 09:00:00",
    "endDate": "2018-11-25 20:00:00",
    "work_admin_user_id": null,
    "work_user_id": "297e81cf62ad4fa60162ad542bce0001"
  }

  ];
const jobPlanList=[
  {
    "id":"1",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"安全门养护",
    "work_detailed":"安全门养护",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'养护',
    "startDate":"12:45:00",
    "endDate":"23:30:00",
  },
  {
    "id":"2",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"电力巡视",
    "work_detailed":"电力巡视",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'巡检',
    "startDate":"15:45:00",
    "endDate":"12:30:00",
  },
  {
    "id":"3",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"上中路隧道",
    "work_name":"风控检测",
    "work_detailed":"风控检测",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'巡检',
    "startDate":"15:45:00",
    "endDate":"12:30:00",
  },
  {
    "id":"4",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"上中路隧道",
    "work_name":"照明电路检查",
    "work_detailed":"照明电路检查",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'巡检',
    "startDate":"15:45:00",
    "endDate":"12:30:00",
  }
  ,
  {
    "id":"5",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"西藏南路隧道",
    "work_name":"安全指示灯检查",
    "work_detailed":"安全指示灯检查",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'巡检',
    "startDate":"15:45:00",
    "endDate":"12:30:00",
  },
  {
    "id":"6",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"西藏南路隧道",
    "work_name":"消防检查",
    "work_detailed":"消防检查",
    "work_line":'预定路线',
    "work_line_id":null,
    "work_status":"启动",
    "work_user":"王强",
    "work_time":'每周一',
    "work_type":'巡检',
    "startDate":"15:45:00",
    "endDate":"12:30:00",
  }

]
let workEventList = [
  {
    id:1,
    title: '复兴东路隧道_紧急巡视',
    unitName:'',
    work_user:'周福',
    reasons:'临时任务',
    workType:'紧急巡视',
    startDate:'2018-03-13 08：30：00',
    endDate:'2018-03-13 17：30：00',
    gallery_name:'复兴东路隧道',
    ops:'系统管理员',
    eventContent:'复兴东路隧道发生撞车事故',
    workLevel:'一级',
    status:'进行中'
  },
  {
    id:2,
    title: '上中路隧道_紧急巡视',
    unitName:'复兴东路隧道',
    work_user:'周福',
    reasons:'临时任务',
    workType:'紧急巡视',
    startDate:'2018-03-13 08：30：00',
    endDate:'2018-03-13 17：30：00',
    gallery_name:'复兴东路隧道',
    ops:'系统管理员',
    eventContent:'复兴东路隧道风扇停止运行了',
    workLevel:'一级',
    status:'进行中'
  },
  {
    id:3,
    title: '上中路隧道_紧急巡视',
    unitName:'复兴东路隧道',
    work_user:'周福',
    reasons:'临时任务',
    workType:'紧急巡视',
    startDate:'2018-03-13 08：30：00',
    endDate:'2018-03-13 17：30：00',
    gallery_name:'复兴东路隧道照明电路损坏',
    ops:'系统管理员',
    eventContent:'复兴东路隧道',
    workLevel:'一级',
    status:'待处理'
  },
  {
    id:4,
    title: '西藏南路隧道_紧急巡视',
    unitName:'复兴东路隧道',
    work_user:'周福',
    reasons:'临时任务',
    workType:'紧急巡视',
    startDate:'2018-03-13 08：30：00',
    endDate:'2018-03-13 17：30：00',
    gallery_name:'复兴东路隧道',
    ops:'系统管理员',
    eventContent:'复兴东路隧道摄像头坏了',
    workLevel:'一级',
    status:'待处理'
  },{
        id:5,
        title: '复兴东路隧道_紧急巡视',
        unitName:'复兴东路隧道',
        work_user:'周福',
        reasons:'临时任务',
        workType:'紧急巡视',
        startDate:'2018-03-13 08：30：00',
        endDate:'2018-03-13 17：30：00',
        gallery_name:'复兴东路隧道',
        ops:'系统管理员',
        eventContent:'复兴东路隧道应急指示灯损坏',
        workLevel:'一级',
        status:'已完成'
    },{
        id:6,
        title: '西藏南路隧道_紧急巡视',
        unitName:'复兴东路隧道',
        work_user:'周福',
        reasons:'临时任务',
        workType:'紧急巡视',
        startDate:'2018-03-13 08：30：00',
        endDate:'2018-03-13 17：30：00',
        gallery_name:'复兴东路隧道射流风机修理',
        ops:'系统管理员',
        eventContent:'复兴东路隧道',
        workLevel:'一级',
        status:'已完成'
    }
];
let taskRecordList = [
  {
    "id":"1",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"车流检测器检查",
    "work_detailed":"车流检测器检查是否失效",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"计划",
    "work_status":"进行中",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  },
  {
    "id":"2",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"照明电路检查",
    "work_detailed":"照明电路检查是否破损",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"临时",
    "work_status":"已完成",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  },
  {
    "id":"3",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"复兴东路隧道",
    "work_name":"射流风机检查",
    "work_detailed":"射流风机检查",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"临时",
    "work_status":"待处理",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  }
  ,
  {
    "id":"4",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"上中路隧道",
    "work_name":"射流风机检查",
    "work_detailed":"射流风机检查",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"临时",
    "work_status":"待处理",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  }
  ,
  {
    "id":"5",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"西藏南路隧道",
    "work_name":"消防栓检查",
    "work_detailed":"消防栓检查",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"临时",
    "work_status":"待处理",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  }
  ,
  {
    "id":"6",
    "sys_Date":null,
    "lastModifiedDate":null,
    "markAsDeleted":false,
    "gallery_name_id":"2",
    "gallery_name":"西藏南路隧道",
    "work_name":"应急灯检查",
    "work_detailed":"应急灯检查",
    "work_type":"其它",
    "work_admin_user":null,
    "work_line":null,
    "work_line_id":null,
    "work_plan_type":"临时",
    "work_status":"待处理",
    "work_user":"王强",
    "startDate":"2018-11-03 12:45:00",
    "endDate":"2018-11-03 23:30:00",
    "work_admin_user_id":null,
    "work_user_id":"402880e662948ec5016294907df60000",
    "startDateTime":null,
    "startDateDate":null
  }
]
function addTask(req, res, u, b){
    const body = (b && b.body) || req.body;
    const { method, params} = body;
    res.send(list.concat(params));
}

function filterList(req, res, u, b){
  const body = (b && b.body) || req.body;
  const { tags } = body;
  let newArray = null;
  switch (tags.data) {
    case '进行中':
      newArray = taskRecordList.filter(function(item,index,array){
        return (item.work_status == tags.data);
      })
      break;
    case '待处理':
      newArray = taskRecordList.filter(function(item,index,array){
        return (item.work_status == tags.data);
      })
      break;
    case '已完成' :
      newArray = taskRecordList.filter(function(item,index,array){
        return (item.work_status == tags.data);
      })
      break;
    default:
      newArray = taskRecordList;
  }
  res.send(newArray);
}

function workEventFilterList(req, res, u, b){
  const body = (b && b.body) || req.body;
  const { tags } = body;
  let newArray = null;
  switch (tags.data) {
    case '进行中':
      newArray = workEventList.filter(function(item,index,array){
            return (item.status == tags.data);
      })
      break;
    case '待处理':
      newArray = workEventList.filter(function(item,index,array){
        return (item.status == tags.data);
      })
      break;
    case '已完成' :
      newArray = workEventList.filter(function(item,index,array){
        return (item.status == tags.data);
      })
      break;
    default:
      newArray = workEventList;
  }
  res.send(newArray);
}

export default {
  // 支持值为 Object 和 Array
  'GET /api/workTask': list,
  'GET /api/jobPlan': jobPlanList,
  'GET /api/workEvent': workEventList,
  'GET /api/workRecord': taskRecordList,
  'POST /api/filterList': filterList,
  'POST /api/workEventFilterList': workEventFilterList
}